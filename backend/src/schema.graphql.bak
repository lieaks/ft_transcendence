type User {
	id: String!
	name: String!
	avatar: String
	ladderRanking: Int!
	experience: Float!
	createdAt: String!
	wins: Int!
	losses: Int!
	gameHistory: [Game!]
	# friends: [User!]! @relation(name: "friends")
	# friendOf: [User!]! @relation(name: "friends")
	friends: [User!]
	friendOf: [User!]
}

type Game {
	id: String!
	players: [User!]!
	winnerId: String
	createdAt: String!
	finishedAt: String
}

type Query {
	user(id: String!): User
	userName(name: String!): User
	users(id: [String!]): [User]
	allUsers: [User!]!
	game(id: String!): Game
}

type Mutation {
	# User mutations
	createUser(input: CreateUserInput!): User!
	updateUser(id: String!, input: UpdateUserInput!): User!

	# Game mutations
	createGame(userId: String!, enemyUserId: String!): Game!

	# User fields mutations
	# updateUserName(id: String!, name: String!): User!
	# updateUserAvatar(id: String!, avatar: String!): User!
	# updateUserPassword(id: String!, password: String!): User!
	# addFriend(id: String!, friendId: String!): User!
	# removeFriend(id: String!, friendId: String!): User!

	# enable 2FA
	enable2FA(id: String!): String!
	disable2FA(id: String!): Boolean!
	verify2FA(id: String!, code: String!): Boolean!
}

input CreateUserInput {
	name: String!
	avatar: String
}

input UpdateUserInput {
	name: String
	avatar: String
	friends: [String!]
}
